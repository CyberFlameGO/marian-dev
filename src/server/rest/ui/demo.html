<html>
  <head>
    <meta charset="UTF-8">
    <script language="javascript" type="text/javascript">
      function go() {
      document.getElementById('translation').innerHTML = "";
      var input = document.getElementById("input").value;
      input.replace(/\n/g,"\\n");
      var job = new XMLHttpRequest();
      job.open("POST","http://{{URL}}/api/elg/v1");
      job.setRequestHeader("Content-Type","application/json");
      job.onreadystatechange = function () {
      document.getElementById('translation').innerHTML
      = this.responseText.replace(/\n/g,"<br>\n");
      };
      var payload = {
      "metadata" : { "id": 0 },
      "request"  : {
      "type" : "text",
      "mimeType" : "text/plain",
      "characterEncoding" : "UTF-8",
      "content" : input,
      }};
      job.send(JSON.stringify(payload));
      };
      function clearContent() {
      document.getElementById('input').value = "";
      document.getElementById('translation').innerHTML = "";
      }
    </script>
  </head>
  <body>
    <h1>Translation Demo ({{URL}})</h1>
    <p style="color:gray">Enter a new sentence or edit the sentence in the box,
      press [Enter] to translate.</p>
    <input id="input" size="200" oninput="document.getElementById('translation').innerHTML='';"
           value="Dieses Kamel ißt gerne Kartoffelsalat mit Wiener Würstchen, während es im Bett liegt und Fernsehen schaut."></input><br>
    <h3>Translation:</h3>
    <div id="translation"></div>
    </div>
    <script language="javascript" type="text/javascript">
      document.getElementById("input").focus();
      document.getElementById("input").addEventListener("keyup", function(ev) {
      if (ev.keyCode == 13) {
          ev.preventDefault();
          this.focus();
          go('input','translation');
      }});
    </script>
  </body>
</html>
